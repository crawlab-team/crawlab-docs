import{usePageData as M,useRouteLocale as g,usePageFrontmatter as h}from"@vuepress/client";import{ref as y,computed as E}from"vue";import{useRouter as v}from"vue-router";import{resolveRouteWithRedirect as d}from"vuepress-shared/client";import{categoryMap as R}from"@temp/blog/category";import{typeMap as T}from"@temp/blog/type";const _=y(R),k=(e="")=>{const m=M(),u=v(),i=g();return E(()=>{var r;const p=e||((r=h().value.blog)==null?void 0:r.key)||"";if(!p)return console.warn("useBlogCategory: key not found"),{path:"/",map:{}};const l=u.getRoutes();if(!_.value[p])throw new Error(`useBlogCategory: key ${p} is invalid`);const n=_.value[p][i.value],o={path:n.path,map:{}};for(const a in n.map){const t=n.map[a];o.map[a]={path:t.path,items:[]};for(const B of t.keys){const f=l.find(({name:s})=>s===B);if(f){const s=d(u,f.path);o.map[a].items.push({path:s.path,info:BLOG_META_SCOPE===""?s.meta:s.meta[BLOG_META_SCOPE]})}}m.value.path===t.path&&(o.currentItems=o.map[a].items)}return o})};__VUEPRESS_DEV__&&(import.meta.webpackHot||import.meta.hot)&&(__VUE_HMR_RUNTIME__.updateBlogCategory=e=>{_.value=e});const c=y(T),C=(e="")=>{const m=v(),u=g();return E(()=>{var i;const r=e||((i=h().value.blog)==null?void 0:i.key)||"";if(!r)return console.warn("useBlogType: key not found"),{path:"/",items:[]};if(!c.value[r])throw new Error(`useBlogType: key ${e} is invalid`);const p=m.getRoutes(),l=c.value[r][u.value],n={path:l.path,items:[]};for(const o of l.keys){const a=p.find(({name:t})=>t===o);if(a){const t=d(m,a.path);n.items.push({path:t.path,info:BLOG_META_SCOPE===""?t.meta:t.meta[BLOG_META_SCOPE]})}}return n})};__VUEPRESS_DEV__&&(import.meta.webpackHot||import.meta.hot)&&(__VUE_HMR_RUNTIME__.updateBlogType=e=>{c.value=e});export{_ as blogCategoryMap,c as blogTypeMap,k as useBlogCategory,C as useBlogType};
//# sourceMappingURL=index.js.map
