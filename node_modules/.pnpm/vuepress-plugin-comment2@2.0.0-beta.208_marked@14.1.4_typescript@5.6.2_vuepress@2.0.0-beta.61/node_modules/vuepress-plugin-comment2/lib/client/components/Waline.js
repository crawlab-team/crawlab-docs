import{usePageData as d,usePageFrontmatter as g,usePageLang as f,withBase as h}from"@vuepress/client";import{pageviewCount as C}from"@waline/client/dist/pageview.mjs";import{pageviewCount as D}from"@waline/client/dist/pageview.mjs";import{defineComponent as L,computed as n,onMounted as w,watch as W,nextTick as A,h as i,defineAsyncComponent as E}from"vue";import{useLocaleConfig as I,LoadingIcon as N}from"vuepress-shared/client";import"@waline/client/dist/waline.css";import"../styles/waline.scss";import{c as k}from"../comment-6705f8c9.js";const x=WALINE_LOCALES;WALINE_META&&import("@waline/client/dist/waline-meta.css");var y=L({name:"WalineComment",setup(){const e=k(),m=d(),l=g(),p=f(),u=I(x);let a;const t=!!e.serverURL,s=n(()=>{if(!t)return!1;const c=e.pageview!==!1,r=l.value.pageview;return!!r||c!==!1&&r!==!1}),o=n(()=>h(m.value.path)),v=n(()=>({lang:p.value==="zh-CN"?"zh-CN":"en",locale:u.value,dark:"html.dark",...e,path:o.value}));return w(()=>{W(o,()=>{a==null||a(),s.value&&A().then(()=>{setTimeout(()=>{a=C({serverURL:e.serverURL,path:o.value})},e.delay||800)})},{immediate:!0})}),()=>t?i("div",{class:"waline-wrapper",id:"comment"},t?i(E({loader:async()=>(await import("@waline/client/dist/component.mjs")).Waline,loadingComponent:N}),v.value):[]):null}});export{y as default,D as pageviewCount};
//# sourceMappingURL=Waline.js.map
