import{_ as n,E as d,Z as r,$ as i,a0 as a,a3 as e,a1 as l,a4 as o}from"./framework-64cb0dab.js";const c={},t=a("h1",{id:"命令行工具-cli",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#命令行工具-cli","aria-hidden":"true"},"#"),e(" 命令行工具 (CLI)")],-1),p=a("p",null,"命令行工具允许用户轻松管理 Crawlab，以及执行常规操作，例如上传爬虫。它是基于 Python 编写的，很容易安装。",-1),u=a("h2",{id:"安装",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#安装","aria-hidden":"true"},"#"),e(" 安装")],-1),h={href:"https://pypi.org/project/crawlab-sdk",target:"_blank",rel:"noopener noreferrer"},b=o(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>pip <span class="token function">install</span> crawlab-sdk
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">注意</p><p>目前只有 beta 版本可用，因此我们必须在安装命令中注明版本。</p></div><p>现在您可以使用命令行工具来程式化的与 Crawlab 进行交互了。</p><h2 id="登陆" tabindex="-1"><a class="header-anchor" href="#登陆" aria-hidden="true">#</a> 登陆</h2><div class="hint-container warning"><p class="hint-container-title">注意</p><p>您在进行其他任何操作前，<strong>必须</strong> 使用命令行工具登陆 Crawlab。</p></div><p>您可以通过执行如下命令来使用命令行工具登陆 Crawlab。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>crawlab-cli login <span class="token parameter variable">--api_address</span> <span class="token operator">&lt;</span>api_address<span class="token operator">&gt;</span> <span class="token punctuation">\\</span>
  <span class="token parameter variable">--username</span> <span class="token operator">&lt;</span>username<span class="token operator">&gt;</span> <span class="token punctuation">\\</span>
  <span class="token parameter variable">--password</span> <span class="token operator">&lt;</span>password<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>--api_address</code> 或 <code>-a</code> 是 Crawlab API 地址. 默认: http://localhost:8080/api.</li><li><code>--username</code> 或 <code>-u</code> 是登陆用户名. 默认: admin.</li><li><code>--password</code> 或 <code>-p</code> 是登陆密码. 默认: admin.</li></ul><h2 id="上传" tabindex="-1"><a class="header-anchor" href="#上传" aria-hidden="true">#</a> 上传</h2><p>您可以用命令行工具上传爬虫。</p><h4 id="上传一个新爬虫" tabindex="-1"><a class="header-anchor" href="#上传一个新爬虫" aria-hidden="true">#</a> 上传一个新爬虫</h4><p>如果您希望上传一个新爬虫，您可以执行以下命令。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>crawlab-cli upload <span class="token punctuation">\\</span>
  <span class="token parameter variable">--dir</span> <span class="token operator">&lt;</span>target_spider_dir<span class="token operator">&gt;</span> <span class="token punctuation">\\</span>
  <span class="token punctuation">[</span>--name <span class="token operator">&lt;</span>spider_name<span class="token operator">&gt;</span><span class="token punctuation">]</span> <span class="token punctuation">\\</span>
  <span class="token punctuation">[</span>--col_name <span class="token operator">&lt;</span>results_collection_name<span class="token operator">&gt;</span><span class="token punctuation">]</span> <span class="token punctuation">\\</span>
  <span class="token parameter variable">--create</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>--create</code> 或 <code>-c</code> 即是否需要创建新爬虫. 如果没有注明, 必须注明 <code>--id</code> 或 <code>-i</code>.</li><li><code>--dir</code> 或 <code>-d</code> 是需要上传的爬虫目录. 默认: 当前工作目录.</li><li><code>--name</code> 或 <code>-n</code> 是需要创建爬虫的名称. 默认: 目录名称.</li><li><code>--col_name</code> 或 <code>-C</code> 是需要创建爬虫的结果储存集合名称. 默认: <code>results_&lt;爬虫名称&gt;</code>.</li><li><code>--cmd</code> or <code>-m</code> 是需要创建爬虫的执行命令. 默认: <code>echo &quot;hello crawlab&quot;</code>.</li></ul><h4 id="上传到已存在爬虫" tabindex="-1"><a class="header-anchor" href="#上传到已存在爬虫" aria-hidden="true">#</a> 上传到已存在爬虫</h4><p>如果您希望上传到已存在爬虫，您可以执行以下命令。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>crawlab-cli upload <span class="token punctuation">\\</span>
  <span class="token parameter variable">--dir</span> <span class="token operator">&lt;</span>target_spider_dir<span class="token operator">&gt;</span> <span class="token punctuation">\\</span>
  <span class="token parameter variable">--id</span> <span class="token operator">&lt;</span>spider_id<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>--dir</code> 或 <code>-d</code> 是需要上传的爬虫目录. 默认: 当前工作目录.</li><li><code>--id</code> 或 <code>-i</code> 是需要上传爬虫的 ID.</li></ul><h2 id="配置" tabindex="-1"><a class="header-anchor" href="#配置" aria-hidden="true">#</a> 配置</h2><p>您可以用命令行工具查看或设置/取消设置配置。</p><h4 id="查看配置" tabindex="-1"><a class="header-anchor" href="#查看配置" aria-hidden="true">#</a> 查看配置</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>crawlab-cli config
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="设置配置项" tabindex="-1"><a class="header-anchor" href="#设置配置项" aria-hidden="true">#</a> 设置配置项</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>crawlab-cli config <span class="token parameter variable">--set</span> <span class="token operator">&lt;</span>key<span class="token operator">&gt;=</span><span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><code>--set</code> 或 <code>-s</code> 是需要设置的键值对配置.</li></ul><h4 id="取消设置配置项" tabindex="-1"><a class="header-anchor" href="#取消设置配置项" aria-hidden="true">#</a> 取消设置配置项</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>crawlab-cli config <span class="token parameter variable">--unset</span> <span class="token operator">&lt;</span>key<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><code>--set</code> 或 <code>-s</code> 是需要取消设置的配置项的键.</li></ul>`,28);function v(m,k){const s=d("ExternalLinkIcon");return r(),i("div",null,[t,p,u,a("p",null,[e("Crawlab 命令行工具集成于 "),a("a",h,[e("Crawlab SDK"),l(s)]),e(" 。 您可以执行以下命令来安装 Crawlab 命令行工具。")]),b])}const _=n(c,[["render",v],["__file","index.html.vue"]]);export{_ as default};
