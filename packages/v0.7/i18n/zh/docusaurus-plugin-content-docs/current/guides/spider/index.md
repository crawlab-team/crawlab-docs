---
sidebar_position: 3
title: 爬虫
---

# 爬虫

爬虫是Crawlab中网络爬虫程序的基本单元。您可以将其视为由代码和文件组成的网络爬取软件项目，例如Scrapy项目。请注意，这里提到的术语*项目*与Crawlab中的基本概念[项目](../project/index.md)不同。

:::警告
在Crawlab中，*爬虫*的概念非常重要，我们强烈建议您通读本部分。
:::

## 典型流程

以下是用户在Crawlab中使用爬虫的典型流程。

```mermaid
graph LR
  A[创建爬虫] --> B[上传爬虫]
  B --> C[运行爬虫]
  C --> D[查看结果]
```

## 创建爬虫

1. 导航到`爬虫`页面，并点击左上角的`新建爬虫`按钮。
2. 输入相关信息，包括`名称`和`执行命令`。
3. 点击`确认`。

`执行命令`是在运行爬虫时将要执行的基础命令，例如`scrapy crawl myspider`，并且是运行爬虫时将要执行的bash/shell命令。

`增量同步`是在运行爬虫时是否增量同步文件，而不是每次都下载所有文件。这可以节省下载文件的时间。

`自动安装依赖项`是在运行爬虫时是否自动安装依赖项，例如`requirements.txt`中的依赖项。（此功能仅在Crawlab专业版中可用）

## 上传爬虫

有几种方法可以上传爬虫文件。

### 上传文件夹

1. 导航到爬虫详情页面。
2. 点击`文件`标签。
3. 点击导航栏中的`上传`按钮。
4. 选择`文件夹`。
5. 点击`点击选择要上传的文件夹`。
6. 选择包含爬虫文件的文件夹。
7. 点击`确认`。

### 上传文件

1. 导航到爬虫详情页面。
2. 点击`文件`标签。
3. 点击导航栏中的`上传`按钮。
4. 选择`文件`。
5. 将爬虫文件拖放到拖放区域，或点击拖放区域并选择文件。
6. 点击`确认`。

### 上传文件（拖放）

1. 导航到爬虫详情页面。
2. 点击`文件`标签。
3. 将爬虫文件或文件夹拖放到左侧文件导航器中的文件夹内。

## 运行爬虫

您可以按照以下步骤运行爬虫。

1. 如果在爬虫详情页面，点击导航栏中的带有播放图标的`运行`按钮。
2. 如果在`爬虫`页面，点击右侧带有播放图标的`运行`按钮。
3. 为运行爬虫选择适当的设置。
4. 点击`确认`。

以下是运行爬虫的设置说明。

- `命令`：实际执行的cmd/bash/shell基础命令。
- `参数`：传递给`命令`的实际参数/参数。
- `模式`：任务运行模式。默认为`随机节点`。
- `优先级`：任务优先级。默认为5。

## 实体关系

```mermaid
erDiagram
  爬虫 ||--o{ 项目 : "属于"
  爬虫 ||--o{ 任务 : "运行"
  爬虫 ||--o{ 定时任务 : "具有"
  任务 ||--o{ 节点 : "在运行"
  定时任务 ||--o{ 任务 : "触发"
```